<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>12EC35018: waiter.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">12EC35018
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">waiter.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Function to collect and distribute resources (Maach, Dal &amp; Bhaat) as described in Assignment 4a.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br/>
<code>#include &lt;stdlib.h&gt;</code><br/>
<code>#include &lt;sys/types.h&gt;</code><br/>
<code>#include &lt;pthread.h&gt;</code><br/>
<code>#include &lt;fcntl.h&gt;</code><br/>
<code>#include &lt;semaphore.h&gt;</code><br/>
<code>#include &lt;sys/time.h&gt;</code><br/>
<code>#include &lt;sys/ipc.h&gt;</code><br/>
<code>#include &lt;sys/shm.h&gt;</code><br/>
<code>#include &lt;errno.h&gt;</code><br/>
</div><div class="textblock"><div class="dynheader">
Include dependency graph for waiter.c:</div>
<div class="dyncontent">
<div class="center"><img src="waiter_8c__incl.png" border="0" usemap="#waiter_8c" alt=""/></div>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structmy__waiter.html">my_waiter</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure for passing arguments to function in 'pthread_create' semType Type of the semaphore, 0: maach, 1: dal, 2: bhaat.  <a href="structmy__waiter.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:addfc815a3798ef54f945c6ce9a3f8d54"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="waiter_8c.html#addfc815a3798ef54f945c6ce9a3f8d54">SHARED_MEM_COUNTER</a>&#160;&#160;&#160;1000</td></tr>
<tr class="separator:addfc815a3798ef54f945c6ce9a3f8d54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0bd7e98f103483772c5ea0c8262a2f2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa0bd7e98f103483772c5ea0c8262a2f2"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SHARED_MEM_BREAK</b>&#160;&#160;&#160;1001</td></tr>
<tr class="separator:aa0bd7e98f103483772c5ea0c8262a2f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d73a4f29ccbd7b45d689790699e6e8a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2d73a4f29ccbd7b45d689790699e6e8a"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SHARED_MEM_ITEMS</b>&#160;&#160;&#160;1002</td></tr>
<tr class="separator:a2d73a4f29ccbd7b45d689790699e6e8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6bc3b683eeafb0bb4e9a848818a89b46"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6bc3b683eeafb0bb4e9a848818a89b46"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SHARED_MEM_SROT</b>&#160;&#160;&#160;1100</td></tr>
<tr class="separator:a6bc3b683eeafb0bb4e9a848818a89b46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba2b0423cbbfb66f4b55d47b72f359a1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aba2b0423cbbfb66f4b55d47b72f359a1"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SHARED_MEM_TIME</b>&#160;&#160;&#160;1500</td></tr>
<tr class="separator:aba2b0423cbbfb66f4b55d47b72f359a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20aabb0a28ca6d968956e12acf55cc49"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a20aabb0a28ca6d968956e12acf55cc49"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SHARED_MEM_OCCP</b>&#160;&#160;&#160;2105</td></tr>
<tr class="separator:a20aabb0a28ca6d968956e12acf55cc49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7ba0e21d19cdae417710d8d42fd872d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab7ba0e21d19cdae417710d8d42fd872d"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SHARED_MEM_MASTERBR</b>&#160;&#160;&#160;2205</td></tr>
<tr class="separator:ab7ba0e21d19cdae417710d8d42fd872d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acff23a91474ff0e3af17e758dcf71c61"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="waiter_8c.html#acff23a91474ff0e3af17e758dcf71c61">SEM_NAME_MAACH</a>&#160;&#160;&#160;&quot;/semMaach&quot;</td></tr>
<tr class="separator:acff23a91474ff0e3af17e758dcf71c61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9028ebdc225a5e94b3f81da5cbec575a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9028ebdc225a5e94b3f81da5cbec575a"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SEM_NAME_DAL</b>&#160;&#160;&#160;&quot;/semDal&quot;</td></tr>
<tr class="separator:a9028ebdc225a5e94b3f81da5cbec575a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1127525d53d4b92e0067b3047a253bc9"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1127525d53d4b92e0067b3047a253bc9"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SEM_NAME_BHAAT</b>&#160;&#160;&#160;&quot;/semBhaat&quot;</td></tr>
<tr class="separator:a1127525d53d4b92e0067b3047a253bc9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2766fadfc948742a62e98c8d01205f55"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2766fadfc948742a62e98c8d01205f55"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SEM_MAACH_ENABLE</b>&#160;&#160;&#160;&quot;/maachEnable&quot;</td></tr>
<tr class="separator:a2766fadfc948742a62e98c8d01205f55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace732d3f6e63200ccdc438f87a8afb5c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ace732d3f6e63200ccdc438f87a8afb5c"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SEM_DAL_ENABLE</b>&#160;&#160;&#160;&quot;/dalEnable&quot;</td></tr>
<tr class="separator:ace732d3f6e63200ccdc438f87a8afb5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17032b6925a6bf84765edbba31333cb4"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a17032b6925a6bf84765edbba31333cb4"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SEM_BHAAT_ENABLE</b>&#160;&#160;&#160;&quot;/bhaatEnable&quot;</td></tr>
<tr class="separator:a17032b6925a6bf84765edbba31333cb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a9224b4b46a93e4f4d1209eb5c184d067"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9224b4b46a93e4f4d1209eb5c184d067"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>enterLog</b> (int id, char *item1)</td></tr>
<tr class="separator:a9224b4b46a93e4f4d1209eb5c184d067"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af46452e595d251ec7bb110615612676d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af46452e595d251ec7bb110615612676d"></a>
void *&#160;</td><td class="memItemRight" valign="bottom"><b>runModule</b> (void *myStruct)</td></tr>
<tr class="separator:af46452e595d251ec7bb110615612676d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fe8ffe0f037a456ed09612d313ee44e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="waiter_8c.html#a3fe8ffe0f037a456ed09612d313ee44e">initWaiter</a> ()</td></tr>
<tr class="memdesc:a3fe8ffe0f037a456ed09612d313ee44e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialise parameters needed for running all processes(e.g. File, threads etc)  <a href="#a3fe8ffe0f037a456ed09612d313ee44e">More...</a><br/></td></tr>
<tr class="separator:a3fe8ffe0f037a456ed09612d313ee44e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec0da68933bd0ad895c28c85b6e454d1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="waiter_8c.html#aec0da68933bd0ad895c28c85b6e454d1">runWaiter</a> ()</td></tr>
<tr class="memdesc:aec0da68933bd0ad895c28c85b6e454d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize and run all the threads.  <a href="#aec0da68933bd0ad895c28c85b6e454d1">More...</a><br/></td></tr>
<tr class="separator:aec0da68933bd0ad895c28c85b6e454d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ddf1224851353fc92bfbff6f499fa97"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0ddf1224851353fc92bfbff6f499fa97"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>main</b> (int argc, char *argv[])</td></tr>
<tr class="separator:a0ddf1224851353fc92bfbff6f499fa97"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a2b87665b3f80560c4529b0140da63fa9"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2b87665b3f80560c4529b0140da63fa9"></a>
sem_t *&#160;</td><td class="memItemRight" valign="bottom"><b>maachEnable</b></td></tr>
<tr class="separator:a2b87665b3f80560c4529b0140da63fa9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b8a286cf71e3388b5dd8265773b6bad"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2b8a286cf71e3388b5dd8265773b6bad"></a>
sem_t *&#160;</td><td class="memItemRight" valign="bottom"><b>dalEnable</b></td></tr>
<tr class="separator:a2b8a286cf71e3388b5dd8265773b6bad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a253b97e203d0d7b316f1bfe16eb10ab6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a253b97e203d0d7b316f1bfe16eb10ab6"></a>
sem_t *&#160;</td><td class="memItemRight" valign="bottom"><b>bhaatEnable</b></td></tr>
<tr class="separator:a253b97e203d0d7b316f1bfe16eb10ab6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9109d5b70685d7a136939f26852c38fe"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9109d5b70685d7a136939f26852c38fe"></a>
struct timeval *&#160;</td><td class="memItemRight" valign="bottom"><b>start</b></td></tr>
<tr class="separator:a9109d5b70685d7a136939f26852c38fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae837dd1a5421f830771df61058e2338a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae837dd1a5421f830771df61058e2338a"></a>
struct timeval&#160;</td><td class="memItemRight" valign="bottom"><b>stop</b></td></tr>
<tr class="separator:ae837dd1a5421f830771df61058e2338a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31373772250f12767e6c56fc67a0d97b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a31373772250f12767e6c56fc67a0d97b"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>slTime</b> [3]</td></tr>
<tr class="separator:a31373772250f12767e6c56fc67a0d97b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53314a6c6820f355dada9689834a10c2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a53314a6c6820f355dada9689834a10c2"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>timeId</b></td></tr>
<tr class="separator:a53314a6c6820f355dada9689834a10c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43944c294447f63e269dac65cc4cefc9"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a43944c294447f63e269dac65cc4cefc9"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>masterBreakid</b></td></tr>
<tr class="separator:a43944c294447f63e269dac65cc4cefc9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ea99c6a0db64162d93de923e3b27c49"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7ea99c6a0db64162d93de923e3b27c49"></a>
int *&#160;</td><td class="memItemRight" valign="bottom"><b>masterBreak</b></td></tr>
<tr class="separator:a7ea99c6a0db64162d93de923e3b27c49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7e600e36ded9b70b20ac06286bb6244"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac7e600e36ded9b70b20ac06286bb6244"></a>
sem_t *&#160;</td><td class="memItemRight" valign="bottom"><b>maachSem</b></td></tr>
<tr class="separator:ac7e600e36ded9b70b20ac06286bb6244"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0e8fa3bc6f866a9d4049f80c54bb7d7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af0e8fa3bc6f866a9d4049f80c54bb7d7"></a>
sem_t *&#160;</td><td class="memItemRight" valign="bottom"><b>dalSem</b></td></tr>
<tr class="separator:af0e8fa3bc6f866a9d4049f80c54bb7d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a258aafcefb1f69086d880fa641226ca4"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a258aafcefb1f69086d880fa641226ca4"></a>
sem_t *&#160;</td><td class="memItemRight" valign="bottom"><b>bhaatSem</b></td></tr>
<tr class="separator:a258aafcefb1f69086d880fa641226ca4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d831573e3e93d701041d2b8c72ca9c0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3d831573e3e93d701041d2b8c72ca9c0"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>maachVal</b></td></tr>
<tr class="separator:a3d831573e3e93d701041d2b8c72ca9c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6749533b4414091a76bf1751a41fc7e9"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6749533b4414091a76bf1751a41fc7e9"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>dalVal</b></td></tr>
<tr class="separator:a6749533b4414091a76bf1751a41fc7e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a76caf1fba9a56f0e8cc950997d92dc"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8a76caf1fba9a56f0e8cc950997d92dc"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>bhaatVal</b></td></tr>
<tr class="separator:a8a76caf1fba9a56f0e8cc950997d92dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49e538feb34b4b068ab18c3913686713"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a49e538feb34b4b068ab18c3913686713"></a>
struct <a class="el" href="structmy__waiter.html">my_waiter</a>&#160;</td><td class="memItemRight" valign="bottom"><b>waiterStruct</b> [3]</td></tr>
<tr class="separator:a49e538feb34b4b068ab18c3913686713"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f4bc556b954a82939e4b8591a64f949"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9f4bc556b954a82939e4b8591a64f949"></a>
pthread_mutex_t&#160;</td><td class="memItemRight" valign="bottom"><b>waiterMutex</b></td></tr>
<tr class="separator:a9f4bc556b954a82939e4b8591a64f949"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81b76fa5c524944cb4b9d5fb0c20804c"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a81b76fa5c524944cb4b9d5fb0c20804c"></a>
pthread_t&#160;</td><td class="memItemRight" valign="bottom"><b>waiterThrd</b> [3]</td></tr>
<tr class="separator:a81b76fa5c524944cb4b9d5fb0c20804c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab423c0a51ecd2f8bf1a9a5870cd6a518"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab423c0a51ecd2f8bf1a9a5870cd6a518"></a>
pthread_attr_t&#160;</td><td class="memItemRight" valign="bottom"><b>waiterAttr</b> [3]</td></tr>
<tr class="separator:ab423c0a51ecd2f8bf1a9a5870cd6a518"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8807d215d2ee6d9779d76aeb1147430"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="waiter_8c.html#ac8807d215d2ee6d9779d76aeb1147430">shmid</a></td></tr>
<tr class="memdesc:ac8807d215d2ee6d9779d76aeb1147430"><td class="mdescLeft">&#160;</td><td class="mdescRight">shmid Shared memory ID for variable used for breaking process  <a href="#ac8807d215d2ee6d9779d76aeb1147430">More...</a><br/></td></tr>
<tr class="separator:ac8807d215d2ee6d9779d76aeb1147430"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23dcc9b3c67a17b86c5b47c21ace0cd5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a23dcc9b3c67a17b86c5b47c21ace0cd5"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>shmItem</b></td></tr>
<tr class="separator:a23dcc9b3c67a17b86c5b47c21ace0cd5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af331c4e7ea5d9829497c960da7c06966"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af331c4e7ea5d9829497c960da7c06966"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><b>shmCount</b></td></tr>
<tr class="separator:af331c4e7ea5d9829497c960da7c06966"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92b07f4129c1351bb67a5dcd88208bb2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a92b07f4129c1351bb67a5dcd88208bb2"></a>
int *&#160;</td><td class="memItemRight" valign="bottom"><b>waiterAddr</b></td></tr>
<tr class="separator:a92b07f4129c1351bb67a5dcd88208bb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2cc4c39316d4de7e5fb0ffb0ec2b955e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2cc4c39316d4de7e5fb0ffb0ec2b955e"></a>
int *&#160;</td><td class="memItemRight" valign="bottom"><b>countItem</b></td></tr>
<tr class="separator:a2cc4c39316d4de7e5fb0ffb0ec2b955e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd9db40e3361ae09188795e8cbe19752"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afd9db40e3361ae09188795e8cbe19752"></a>
int *&#160;</td><td class="memItemRight" valign="bottom"><b>count</b></td></tr>
<tr class="separator:afd9db40e3361ae09188795e8cbe19752"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:addbb0f1e3f0f914f450cdd9e23db4584"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="addbb0f1e3f0f914f450cdd9e23db4584"></a>
char&#160;</td><td class="memItemRight" valign="bottom"><b>fileName</b> [256]</td></tr>
<tr class="separator:addbb0f1e3f0f914f450cdd9e23db4584"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Function to collect and distribute resources (Maach, Dal &amp; Bhaat) as described in Assignment 4a. </p>
<dl class="section author"><dt>Author</dt><dd>Vishnu Dutt Sharma (12EC35018)</dd></dl>
<p>Function takes user input to perform task of picking resources on 3 threads(tasks being semaphore signalling). The user input decides the sleep time for the processes running in threads. Function MUST get three arguments, which are stored in sleep time varibles for the three processes Otherwise, -1 is returned The output of this process is stored in a LOG file named 'logFixedDelay.csv' </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="acff23a91474ff0e3af17e758dcf71c61"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SEM_NAME_MAACH&#160;&#160;&#160;&quot;/semMaach&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>SEM_NAME_MAACH string used as name in named semaphore for Maach SEM_NAME_DAL string used as name in named semaphore for Dal SEM_NAME_BHAAT string used as name in named semaphore for Bhaat SEM_MAACH_ENABLE string used as name in named semaphore maachEnable SEM_DAL_ENABLE string used as name in named semaphore dalEnable SEM_BHAAT_ENABLE string used as name in named semaphore for bhaatEnable </p>

</div>
</div>
<a class="anchor" id="addfc815a3798ef54f945c6ce9a3f8d54"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SHARED_MEM_COUNTER&#160;&#160;&#160;1000</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>SHARED_MEM_COUNTER value of the key for shared memory used for storing counter for serial number in LOG file SHARED_MEM_BREAK value of the key for shared memory used for storing the variable responsible for breaking the process loops SHARED_MEM_ITEMS value of the key for shared memory used for storing number of Maach, Dal and Bhaat produced by Chef process SHARED_MEM_SROT value of the key for shared memory used for Service Room Occumpancy Table SHARED_MEM_TIME value of the key for shared memory used for storing start time SHARED_MEM_OCCP value of the key for shared memory used for storing number of guests in occumpancy table SHARED_MEM_MASTERBR value of the key for shared memory used for master break flag </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a3fe8ffe0f037a456ed09612d313ee44e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void initWaiter </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialise parameters needed for running all processes(e.g. File, threads etc) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Void </dd></dl>

</div>
</div>
<a class="anchor" id="aec0da68933bd0ad895c28c85b6e454d1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void runWaiter </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize and run all the threads. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Void</dd></dl>
<p>The function initializes mutex, thread attrinutes and threads and then runs processes on the threads </p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="ac8807d215d2ee6d9779d76aeb1147430"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int shmid</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>shmid Shared memory ID for variable used for breaking process </p>
<p>shmItem Shared memory ID for integer array of size 3, total number of items shmCount Shared memory ID for counter for writing Serial number in the LOG file waiterAddr Variable for storing process breaker varible countItem Variable for storing total number of resources available (Maach, Dal &amp; Bhaat) count Variable for storing ciunter for Serial Number </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Aug 30 2015 23:45:50 for 12EC35018 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
